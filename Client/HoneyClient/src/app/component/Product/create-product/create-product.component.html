<mat-card>
    <h2>Создание продукта</h2>
    <form class="form_create" [formGroup]="productForm" (ngSubmit)="onSubmit()">
      
      <mat-form-field appearance="outline">
        <mat-label>Название</mat-label>
        <input matInput formControlName="name" required />
        <mat-error *ngIf="productForm.get('name')?.hasError('required')">
          Название обязательно
        </mat-error>
        <mat-error *ngIf="productForm.get('name')?.hasError('maxlength')">
          Название не должно превышать 100 символов
        </mat-error>
      </mat-form-field>
  
      <mat-form-field appearance="outline">
        <mat-label>Описание</mat-label>
        <textarea matInput formControlName="description"></textarea>
        <mat-error *ngIf="productForm.get('description')?.hasError('maxlength')">
          Описание не должно превышать 100 символов
        </mat-error>
      </mat-form-field>
  
      <mat-form-field appearance="outline">
        <mat-label>Цена</mat-label>
        <input matInput type="number" formControlName="price" required />
        <mat-error *ngIf="productForm.get('price')?.hasError('required')">
          Цена обязательна
        </mat-error>
        <mat-error *ngIf="productForm.get('price')?.hasError('min')">
          Цена не может быть отрицательной
        </mat-error>
        <mat-error *ngIf="productForm.get('price')?.hasError('max')">
          Цена не должна превышать 1 000 000 000
        </mat-error>
      </mat-form-field>
  
      <mat-form-field appearance="outline">
        <mat-label>Статус</mat-label>
        <mat-select formControlName="status" required>
          <mat-option *ngFor="let status of statuses" [value]="status">
            {{ statusLabels[status] }} <!-- Здесь отображаем русский текст -->
          </mat-option>
        </mat-select>
        <mat-error *ngIf="productForm.get('status')?.hasError('required')">
          Выберите статус
        </mat-error>
      </mat-form-field>
      
  
      <!-- Выбор файлов -->
      <input class="input_file"  type="file" (change)="onFileSelected($event)" multiple accept="image/*" />
      <mat-error *ngIf="fileUploadError">
        Ошибка загрузки файлов: {{ fileUploadError }}
      </mat-error>
  
      <!-- Список загруженных файлов -->
      <div *ngIf="selectedFiles.length > 0" class="file-list">
        <p>Выбранные файлы:</p>
        <ul>
          <li *ngFor="let file of selectedFiles; let i = index">
            <span>{{ file.name }}</span>
            <img *ngIf="file.type.startsWith('image/')" [src]="fileUrls[i]" alt="preview" width="100" height="100">
            <button mat-icon-button color="warn" (click)="removeFile(i)">
              <mat-icon>delete</mat-icon>
            </button>
          </li>
        </ul>
      </div>
  
      <!-- Кнопка отправки -->
      <button mat-raised-button color="primary" type="submit" [disabled]="productForm.invalid">
        Создать продукт
      </button>
    </form>
  </mat-card>
  
